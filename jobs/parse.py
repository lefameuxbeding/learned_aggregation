import re

# Example text chunk
text = """


Starting Count...
Starting dir: Gnuplot ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [00:09<00:00,  1.05it/s]
Count: Gnuplot 1.459990727 B
Starting dir: Perl ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 12/12 [00:06<00:00,  1.98it/s]
Count: Perl 0.900583022 B
Starting dir: PostScript ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:05<00:00,  1.16it/s]
Count: PostScript 0.806980661 B
Starting dir: Haskell ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [00:04<00:00,  2.43it/s]
Count: Haskell 0.621544714 B
Starting dir: Lua ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 14/14 [00:06<00:00,  2.12it/s]
Count: Lua 1.008454593 B
Starting dir: Gettext Catalog ...
Starting dir: Gettext Catalog ...                                                                                                                                                 [123/1431]
0it [00:00, ?it/s]
Count: Gettext Catalog 0.0 B
Starting dir: JSON ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1378/1378 [13:15<00:00,  1.73it/s]
Count: JSON 121.371569297 B
Starting dir: PowerShell ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:02<00:00,  2.08it/s]
Count: PowerShell 0.401094891 B
Starting dir: VHDL ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:03<00:00,  1.56it/s]
Count: VHDL 0.543636679 B
Starting dir: Julia ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 8/8 [00:05<00:00,  1.54it/s]
Count: Julia 0.751925504 B
Starting dir: Rust ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 42/42 [00:17<00:00,  2.43it/s]
Count: Rust 2.526754962 B
Starting dir: Python ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 286/286 [01:53<00:00,  2.52it/s]
Count: Python 16.355371225 B
Starting dir: Solidity ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:03<00:00,  1.99it/s]
Count: Solidity 0.447465601 B
Starting dir: Text ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1050/1050 [12:53<00:00,  1.36it/s]
Count: Text 114.982148381 B
Starting dir: reStructuredText ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 16/16 [00:06<00:00,  2.53it/s]
Count: reStructuredText 0.900445721 B
Starting dir: SQL ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 52/52 [00:33<00:00,  1.57it/s]
Count: SQL 4.796642104 B
Starting dir: CSV ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1202/1202 [18:10<00:00,  1.10it/s]
Count: CSV 164.91714866 B
Starting dir: HTML+ERB ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:02<00:00,  2.58it/s]
Count: HTML+ERB 0.31372667 B
Starting dir: INI ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 14/14 [00:06<00:00,  2.16it/s]
Count: INI 0.929056632 B                                                                                                                                                           [82/1431]
Starting dir: Diff ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [00:04<00:00,  2.11it/s]
Count: Diff 0.717554784 B
Starting dir: Pascal ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:03<00:00,  1.84it/s]
Count: Pascal 0.46545091 B
Starting dir: Dart ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 18/18 [00:06<00:00,  2.65it/s]
Count: Dart 0.943491134 B
Starting dir: TeX ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 22/22 [00:11<00:00,  1.90it/s]
Count: TeX 1.704879784 B
Starting dir: TypeScript ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 140/140 [00:53<00:00,  2.64it/s]
Count: TypeScript 7.308212428 B
Starting dir: Common Lisp ...
0it [00:00, ?it/s]
Count: Common Lisp 0.0 B
Starting dir: Unity3D Asset ...
0it [00:00, ?it/s]
Count: Unity3D Asset 0.0 B
Starting dir: Mathematica ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:04<00:00,  1.22it/s]
Count: Mathematica 0.751793097 B
Starting dir: C++ ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 216/216 [01:42<00:00,  2.10it/s]
Count: C++ 14.536545587 B
Starting dir: JSX ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 12/12 [00:04<00:00,  2.85it/s]
Count: JSX 0.600186851 B
Starting dir: Ruby ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 36/36 [00:13<00:00,  2.70it/s]
Count: Ruby 1.862501066 B
Starting dir: FORTRAN ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:03<00:00,  1.84it/s]
Count: FORTRAN 0.474919788 B
Starting dir: Markdown ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 370/370 [02:31<00:00,  2.44it/s]
Count: Markdown 22.173929125 B
Starting dir: Visual Basic ...
Count: Visual Basic 0.0 B
Starting dir: Eagle ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [00:08<00:00,  1.16it/s]
Count: Eagle 1.24468727 B
Starting dir: CSS ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 96/96 [00:53<00:00,  1.80it/s]
Count: CSS 7.799994456 B
Starting dir: YAML ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 126/126 [01:06<00:00,  1.89it/s]
Count: YAML 9.650415588 B
Starting dir: KiCad ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 8/8 [00:08<00:00,  1.11s/it]
Count: KiCad 1.386903002 B
Starting dir: XML ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 468/468 [04:12<00:00,  1.86it/s]
Count: XML 36.142706478 B
Starting dir: Java ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 414/414 [02:18<00:00,  2.98it/s]
Count: Java 20.316902484 B
Starting dir: PHP ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 304/304 [01:57<00:00,  2.58it/s]
Count: PHP 17.10861559 B
Starting dir: Turtle ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [00:05<00:00,  1.70it/s]
Count: Turtle 0.878668485 B
Starting dir: Twig ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:02<00:00,  2.99it/s]
Count: Twig 0.298369047 B
Starting dir: Makefile ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 8/8 [00:03<00:00,  2.21it/s]
Count: Makefile 0.519916804 B
Starting dir: JavaScript ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 614/614 [04:59<00:00,  2.05it/s]
Count: JavaScript 43.675078351 B
Starting dir: Scala ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 22/22 [00:08<00:00,  2.67it/s]
Count: Scala 1.160950984 B
Starting dir: Vue ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 32/32 [00:12<00:00,  2.54it/s]
Count: Vue 1.814846333 B
Starting dir: Shell ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 20/20 [00:08<00:00,  2.35it/s]
Count: Shell 1.162630798 B
Starting dir: Go ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 114/114 [00:56<00:00,  2.01it/s]
Count: Go 8.132747946 B
Starting dir: SVG ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 302/302 [04:37<00:00,  1.09it/s]
Count: SVG 41.205356559 B
Starting dir: HTML ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 606/606 [05:40<00:00,  1.78it/s]
Count: HTML 48.200051866 B
Starting dir: SCSS ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 22/22 [00:09<00:00,  2.38it/s]
Count: SCSS 1.356513027 B
Starting dir: Groff ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [00:06<00:00,  1.48it/s]
Count: Groff 1.009350354 B
Starting dir: Assembly ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:03<00:00,  1.59it/s]
Count: Assembly 0.561040598 B
Starting dir: Jupyter Notebook ...
0it [00:00, ?it/s]
Count: Jupyter Notebook 0.0 B
Starting dir: Smali ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [00:05<00:00,  1.91it/s]
Count: Smali 0.750337383 B
Starting dir: C ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 250/250 [02:06<00:00,  1.97it/s]
Count: C 18.583373249 B
Starting dir: Swift ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 30/30 [00:10<00:00,  2.93it/s]
Count: Swift 1.504688422 B
Starting dir: C# ...
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 212/212 [01:07<00:00,  3.14it/s]
Count: C# 9.797661011 B
Starting dir: Kotlin ...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 28/28 [00:08<00:00,  3.30it/s]
Count: Kotlin 1.245247354 B
"""

# Regular expression to extract the data
pattern = r"Count: (\w+[\s\w]*) ([\d.]+) B"

# Find all matches in the text
matches = re.findall(pattern, text)

# Convert matches to a dictionary
token_counts = [( match[0].strip(), float(match[1]) ) for match in matches]


token_counts = sorted(token_counts, key=lambda x: x[1], reverse=True)

print(sorted(token_counts, key=lambda x: x[1], reverse=True))
print(token_counts)
token_counts = {x[0]:x[1] for x in token_counts}


import pprint
pprint.pprint(token_counts,indent=2,sort_dicts=False)



print(sum(token_counts.values()))